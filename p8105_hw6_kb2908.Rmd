---
title: "Homework 6"
author: "Katie Blitsman (kb2908)"
date: "November 17, 2017"
output: html_document
---

```{r setup}
library(tidyverse)
library(plotly)
library(readr)
library(stringr)
library(ggplot2)
library(flexdashboard)
```

#Problem 1

```{r problem1_import}
nyc_inspections = read_csv("./DOHMH_New_York_City_Restaurant_Inspection_Results.csv.gz", 
                           col_types = cols(building = col_character()),
                           na = c("NA", "N/A"))
nyc_inspections =
  nyc_inspections %>%
  filter(grade %in% c("A", "B", "C"), boro != "Missing") %>% 
  mutate(boro = str_to_title(boro)) %>% 
  select(-action, -phone)

inspections_bar = nyc_inspections %>%
  ggplot(aes(x = grade, fill = critical_flag)) +
  geom_bar() +
  facet_grid(. ~ boro)

ggplotly(inspections_bar)


```